#í™˜ê²½ë³€ìˆ˜

[cdimascio/dotenv-java: ğŸ—ï¸ DotenvëŠ” .env íŒŒì¼ì—ì„œ í™˜ê²½ ë³€ìˆ˜ë¥¼ ë¡œë“œí•˜ëŠ” no-dep,](https://github.com/cdimascio/dotenv-java)

----
# ì½”ë“œ
## ì„¤ì •
1) gradle ì„¤ì •
[Dotenv is a no-dep, pure Java module that loads environment variables from a .env file](https://github.com/cdimascio/dotenv-java)
```gradle
implementation 'io.github.cdimascio:dotenv-java:3.1.0'
```

2) `.env` ë§Œë“¤ê¸°
í”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸í´ë”ì— ë§Œë“¤ê¸°
```shell
# .env íŒŒì¼ ì˜ˆì‹œ
DB_URL=jdbc:mysql://localhost:3306/mydb
DB_USERNAME=root
DB_PASSWORD=password
```

3) í™˜ê²½ë³€ìˆ˜ íŒŒì¼ ë“±ë¡í•˜ê¸°
ì‹¤í–‰ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í™˜ê²½ë³€ìˆ˜ íŒŒì¼ ë“±ë¡í•˜ê¸°
![[Pasted image 20241228161738.png]]
![[Pasted image 20241228161829.png]]


## í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©
1) í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ í´ë˜ìŠ¤ ì‘ì„±
ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ë  ë•Œ `.env` íŒŒì¼ì„ ë¡œë“œí•˜ì—¬ **í™˜ê²½ ë³€ìˆ˜ë¥¼ ì‹œìŠ¤í…œ ì†ì„±ìœ¼ë¡œ ì„¤ì •**í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
```java
import io.github.cdimascio.dotenv.Dotenv;
import org.springframework.context.annotation.Configuration;

import javax.annotation.PostConstruct;

@Configuration
public class EnvConfig {

    @PostConstruct
    public void init() {
        Dotenv dotenv = Dotenv.load();
        // ì‹œìŠ¤í…œ ì†ì„±ìœ¼ë¡œ í™˜ê²½ ë³€ìˆ˜ ë“±ë¡
        System.setProperty("DB_URL", dotenv.get("DB_URL"));
        System.setProperty("DB_USERNAME", dotenv.get("DB_USERNAME"));
        System.setProperty("DB_PASSWORD", dotenv.get("DB_PASSWORD"));
    }
}
```

2) í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©í•´ë³´ê¸°
```java
@Service  
@RequiredArgsConstructor  
public class ExService {  

    private final EnvLoader envLoader; // í™˜ê²½ ë³€ìˆ˜ ë¡œë”  
  
    public void test() {  
	    System.out.println(envLoader.get("DB_URL"));
    }  
}
```

## ymlì—ì„œ ì‚¬ìš©
`${}` êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.
```yml
mail:  
  username: ${NAVER_MAIL_ID}  
  password: ${NAVER_MAIL_PASSWORD}
```

