자바/stream-quiz-master

- User.csv 
```
이름, 취미, 소개 
김프로, 축구:농구:야구, 구기종목 좋아요 
정프로, 개발:당구:축구, 개발하는데 뛰긴 싫어 
앙몬드, 피아노, 죠르디가 좋아요 좋아좋아너무좋아 
죠르디, 스포츠댄스:개발, 개발하는 죠르디 좋아 
박프로, 골프:야구, 운동이 좋아요 
정프로, 개발:축구:농구, 개발도 좋고 운동도 좋아
```
## Quiz 1
#### 1번 
`{스포츠댄스=1, 당구=1, 개발=3, 야구=2, 골프=1, 피아노=1, 농구=2, 축구=3}` 와 같이 출력

```java
public Map<String, Integer> quiz1() throws IOException {  
    List<String[]> csvLines = readCsvLines();  
	
    Map<String, Integer> collect = csvLines.stream()  
            .map(line -> line[1].replaceAll("\\s", ""))  
            .map(hobbies -> hobbies.split(":"))  
            .flatMap(Arrays::stream)  
            //[축구, 농구, 야구, 개발, 당구, 축구, ... ]
            .collect(Collectors.toMap(hobby -> hobby, hobby -> 1, (oldValue, newValue) -> newValue += oldValue));  
    return collect;  
}
```

1. `csvLines.stream()` 
csvLines 리스트에 저장된 모든 라인에 대해 스트림을 생성합니다.
`[[김프로,  축구:농구:야구,  구기종목 좋아요], ... ]`

2. `.map(line -> line[1].replaceAll("\\s", ""))` 
각 라인에서 두 번째 요소(취미)를 선택하고, 그 취미 **문자열에서 모든 공백을 제거**합니다.
`[[축구:농구:야구], [개발:당구:축구], .. ]`

3. `.flatMap(hobbies -> Arrays.stream(hobbies.split(":")))`
공백이 제거된 취미 **문자열을 ":" 기호로 분리하여 새로운 스트림**으로 만듭니다. 이렇게 하면 각 사용자가 여러 개의 취미를 가지고 있더라도 모두 별개의 요소로 처리됩니다.
`[[축구, 농구, 야구], [개발, 당구, 축구], ... ]`

4. `.collect(Collectors.toMap(hobby -> hobby, hobby -> 1, (oldValue, newValue) -> newValue += oldValue));` 
최종적으로 이 스트림은 Map으로 수집됩니다. 이때 key는 취미 이름이고 value는 해당 취미가 발견된 횟수입니다.

- `hobby -> hobby`: key 생성 함수입니다.
- `hobby -> 1`: value 생성 함수입니다.
- `(oldValue, newValue) -> newValue += oldValue`: 만약 동일한 key(취미)에 대해 여러 개의 값이 발생하면 이 함수를 사용하여 값을 병합합니다.
`{스포츠댄스=1, 당구=1, 개발=3, 야구=2, 골프=1, 피아노=1, 농구=2, 축구=3}`


#### 2번


# 숫자 스트림
코드 : stream-problem/ch01numStream 참고


ㅁㅁ `Stream<Integer>` 와 `IntStream` 차이는?
결론 : Int를 사용할땐, `map` 대신 `mapToInt`로 사용하자

1. `Stream<Integer>`
이 스트림은 Integer 객체를 처리합니다. 각 요소는 메모리에서 일정량의 공간을 차지하며, 각 연산마다 박싱(boxing)과 언박싱(unboxing) 과정이 필요합니다. 이러한 과정은 추가적인 시간과 메모리를 소비할 수 있습니다.
```java
public void quiz4() {  
    List<Integer> collect = Dish.menu.stream()  
            .mapToInt(Dish::getCalories)  //IntStream
            .boxed()  //Stream<Integer>
            .collect(toList());  

	Optional<Integer> min1 = Dish.menu.stream()  
        .map(Dish::getCalories)  
        .min(Integer::compareTo);
}
```

  
2. `IntStream`
이 스트림은 기본형 int 값을 처리합니다. 각 요소는 메모리에서 더 적은 공간을 차지하며, 박싱과 언박싱 없이 직접 연산을 수행할 수 있습니다.
```java
public void quiz3() {  
    List<Integer> collect = Dish.menu.stream()  
            .map(Dish::getCalories)  //Stream<Integer>
            .collect(toList());  
            
	OptionalInt min1 = Dish.menu.stream()  
	        .mapToInt(Dish::getCalories)  
	        .min();
}  
```
