## 웹 서버, 웹 애플리케이션 서버 개념잡기
- [ ] HTTP가 뭐야?  
	-   웹과 서버간에 데이터를 주고 받기 위한 **통신프로토콜**임. 대부분 HTTP 사용, 거의 모든 형태의 데이터 전송 가능  	
- [ ] 서버가 뭐야?  
	-   웹에서 서비스를 제공하는 **컴퓨터시스템**  
- [ ] 웹 서버 뭐야?  
	-   HTTP 기반으로 동작, **정적 리소스** 제공![](https://api.transno.com/v3/document_image/f8bf2e4c-ed2a-4928-ae04-905cfd36678b-10826299.jpg)  
- [ ] 웹 애플리케이션 서버(WAS)가 뭐야?  
	-   HTTP 기반으로 동작, **서버 기능 포함(애플리케이션 로직 수행)** + 정적 리소스 제공 가능![](https://api.transno.com/v3/document_image/ae933540-7c98-4880-8a0f-58cde9b21c24-10826299.jpg)  
	-   정적 리소스 제공 가능 하지만, WAS만 쓰기에는 너무 많은 역할은 담당해, 서버과부하 우려  
- [ ] 웹 시스템 구성은 어떻게 되어있어?  
	- **웹 시스템 구성**![](https://api.transno.com/v3/document_image/be562130-8007-4ead-9669-f99bd8c8ab0b-10826299.jpg)  
		왜 이렇게 구성해야 했을까?  
		1) web서버는 웬만해서 죽지 않음. 즉 문제가 터져도 어떤 문제가 터졌는지 알려줌  
		2) 정적 처리를 먼저 처리하여 역할을 나누기 위함. 이러면 WAS의 역할이 줄어듦
	-   효율적인 리소스 관리(어떤 것에 서버를 증설할지)  
	-   WAS, DB 장애시 WEB 서버가 오류 화면 제공 가능(WAS은 그냥 서버 다운댐)  

## 서블릿에 대해서
- [ ] 서블릿을 왜 쓰는거야?  
	-   웹 애플리케이션으로 하면 너무 **많은 불필요한 업무를 담당**하게 된다.![](https://api.transno.com/v3/document_image/9a2b57f9-19f7-4f4b-9a97-b5a14f0f8e12-10826299.jpg)  
		어떤 불필요한 업무? 메시지 파싱, 타입확인, 저장.... 잡다한 업무가 많아짐
	-   클라의 요청과 응답을 전달해주는 역할  
- [ ] 서블릿은 어떻게 동작해?  
	-   Request, Response 객체를 새로 만들어서 서블릿 객체 호출후 응답함(싱글톤으로)![](https://api.transno.com/v3/document_image/e74245ba-8912-4f0f-9bf7-48d8639c847c-10826299.jpg) 		
- [ ] 동작방법  
	-   1.브라우저가 /hello로 요청을 보내면 WAS는 이 요청 메시지를 기반으로 **request, response 객체를 생성**한다.개발자는 request 객체에서 HTTP 요청 정보를 편리하게 꺼내서 사용한다.  
	-   2.두 객체를 넘겨받은 서블릿 컨테이너는 개발자가 만든 **helloServlet을 실행**해준다. 
	-   3.리턴을 하면 reponse 객체에 **응답 메시지를 만들어 브라우저에 전달**한다.개발자는 response 객체에 HTTP 응답 정보를 편리하게 입력한다.WAS는 response 객체에 담겨있는 내용으로 HTTP 응답 정보를 생성한다.  
-   [서블릿 구현한 코드 한번 보기](https://dodeon.gitbook.io/study/kimyounghan-spring-mvc/02-servlet)  
-   [추가적으로 공부할 내용들](https://12bme.tistory.com/555)  
- [ ]  서블릿 특징은 뭐야?  
	-   서블릿 객체는 **싱글톤**으로 관리함  
		-   why? 싱글톤으로 관리하지?  
			-   고객 요청/응답을 위한 객체는 싱글톤X, 서블릿 컨테이너 안에는 새로 객체가 만들필요가 없기 때문에(생성에 시간 오래 걸림) 싱글톤으로 관리함.  
	-   **서블릿 컨테이너**는 서블릿 객체를 생성, 초기화, 호출, 종료하는 생명주기 관리  
	-   동시 요청을 위한 **멀티 쓰레드 처리** 지원  
		-   서블릿 컨테이너는 싱글톤이지만 웹 애플리케이션 부분은 싱클톤이 아님  
- [ ] [ServletContainer와 SpringContainer는 무엇이 다른가?](https://jypthemiracle.medium.com/servletcontainer%EC%99%80-springcontainer%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%B4-%EB%8B%A4%EB%A5%B8%EA%B0%80-626d27a80fe5)  
	
	-   [👩‍💻 동기&비동기 / 블로킹&논블로킹 💯 완벽 이해하기 (tistory.com)](https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B8%94%EB%A1%9C%ED%82%B9%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC#%EB%B8%94%EB%A1%9C%ED%82%B9_&_%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9)  
		
	
	-   그림![](https://api.transno.com/v3/document_image/f6f889fd-f232-44ae-a2fb-018b753d83ce-10826299.jpg)  


## HttpServletRequeset 역할은 무엇일까?
-   **연결과 파싱, 메시지 생성을 대신**하게 될 서블릿  
	-   요청과 응답을 초록색 부분(**의미있는 비즈니스 로직)만 작성**해서 실행 가능  
-   **임시 저장소**기능  
	-   해당 HTTP 요청이 끝날때까지 유지되는 임시 저장기능![](https://api.transno.com/v3/document_image/dcf7acd7-7150-4dd8-ad4e-26245fd8ef40-10826299.jpg)  
-   **세션 관리** 기능  
	-   메소드![](https://api.transno.com/v3/document_image/f42308d8-9345-447f-bfc4-7915de7f793a-10826299.jpg)  

## HTTP 요청데이터 전달 방법 3가지은?
- [ ]   GET - 쿼리 파라미터  
	-   사용 예시 : /url?username=hello&age=20  
	-   메시지 바디 없이, **URL의 쿼리 파라미터**에 데이터를 포함해서 전달
	-   예) 검색, 필터, 페이징등에서 많이 사용하는 방식  
	-   파라미터 조회 메서드 정리![](https://api.transno.com/v3/document_image/59c56c8d-a566-4962-8cc6-21b9729a376e-10826299.jpg)  
		-   [신기한 연구소 :: [자바/java]Iterator 와 Enumeration 쉽게 이해하기 편. (tistory.com)](https://tiboy.tistory.com/481)  
- [ ]   POST - HTML Form  
	-   content-type: application/x-www-form-urlencoded  
	-   **메시지 바디**에 쿼리 파리미터 형식으로 전달 username=hello&age=20  
	-   예) 회원 가입, 상품 주문, HTML Form 사용  
	-   실제로 전송해보기 2가지 방법  
		-   HTML 생성 후 보내기![](https://api.transno.com/v3/document_image/acbb9c61-1293-488c-910e-efd49af895b4-10826299.jpg)  
			
		
		- Postman 이용하기
		- ![](https://api.transno.com/v3/document_image/3d438d46-5249-4f2f-aafb-7aa687050b51-10826299.jpg)  
- [ ]   HTTP message body - 데이터를 직접 담아서 요청  
	-   HTTP API에서 주로 사용, **JSON**  
	-   실제 전송하기  
		-   단순 텍스트
		- ![](https://api.transno.com/v3/document_image/20c01f5d-d92f-444f-9b1b-a80c14ee1f3b-10826299.jpg)![](https://api.transno.com/v3/document_image/32b75f8b-81d8-42fa-83b3-8d906a11c3f1-10826299.jpg)  
		-   JSON
		- ![](https://api.transno.com/v3/document_image/e4d76b31-8c0c-46a2-a856-8205d7c1c925-10826299.jpg)![](https://api.transno.com/v3/document_image/fa5d8dfa-8e4a-4449-91c6-ecb522c63a70-10826299.jpg)  

## HttpServletResponse 역할은?
- [ ]   HTTP 응답 메시지  
	-   응답코드지정, 헤더 지정, 바디 생성  
- [ ]   편의 기능 제공  
	-   Content-Type, 쿠키, Redirect  

## HTTP 응답데이터 전달 방법 3가지은?
- [ ]   단순 텍스트 응답  
	-   실제 코드
	- ![](https://api.transno.com/v3/document_image/e6b32130-f6a7-4d3f-b178-906fac9942f1-10826299.jpg)  
- [ ]   HTML 응답  
	-   실제 코드
	- ![](https://api.transno.com/v3/document_image/c56e85d5-64df-464d-8be6-860f1b715576-10826299.jpg)  
- [ ]   HTTP API - MessageBody JSON 응답  
	-   실제 코드![](https://api.transno.com/v3/document_image/77d3f27f-668b-43f0-a92b-a1c0072ce38d-10826299.jpg)  
		JSON 응답은 다른 응답과는 다르게 **객체에 담아서 바이드코드로 변환후 반환**한다. 그래서 먼저 HelloData 클래스를 미리 만들고, ObjectMapper를 변수로 설정해 변환 준비를 함.

##  동시 요청을 하는 경우에는 어떻게 처리하지?(멀티쓰레드)
- [ ]   **WAS에 응답과정**은 어떻게 돼??  
	-   브라우저가 요청을 보내면 WAS가 응답을 한다. 요청을 했을 때 TCP 커넥션이 연결되면서 서블릿이 호출된다. 그런데 이 서블릿 객체는 누가 호출하는 걸까? 바로 스레드다.![](https://api.transno.com/v3/document_image/2ac7b772-26d7-4079-add9-7e454638ca91-10826299.jpg)  
	-   [STACKOVER의 답변](https://stackoverflow.com/questions/27765547/how-does-a-single-servlet-handle-multiple-requests-from-client-side/27765697)  
- [ ]   쓰레드란? 
	-   애플리케이션 코드를 **하나하나 순차적으로 실행**한다.  
	-   동시 처리가 필요하면 스레드를 추가로 만들어야 한다.  
- [ ]   하나의 쓰레드에 두개의 요청이 들어오면?  
	-   요청 1이 들어와서 스레드를 사용해 서블릿을 요청한다. 여러 가지 이유로 인해 처리에 시간이 많이 걸린다고 해보자. 이때 요청 2가 들어오면 스레드를 사용할 수 있을 때까지 기다린다. 이렇게 되면 둘 다 죽게된다. 1번이 잡고 있으니 2번이 실행 자체를 못하게 되고 결국 타임 아웃이 발생하는 것이다.  
- [ ]   다중 쓰레드 작동방식  
	-   요청 1이 들어오고 처리가 지연되어도 요청 2가 오면 새로 스레드를 만든다. 같은 서블릿을 호출해도 스레드는 다르기 때문에 **각 스레드대로 요청을 처리하고 응답**을 보낸다. 응답이 끝나면 스레드를 날린다.  
- [ ]   쓰레드 풀  
	-   쓰레드 풀 왜 나온거야?  
		-   **생성비용**이 비싸고, 쓰레드 생성에 제한이 없음. 그래서고객의 요청이 너무 많이 오면 CPU와 메모리 **임계점**을 넘어서 서버가 죽을 수 있다.  
	-   쓰레드 풀 작동방식은?  
		-   필요한 스레드를 **스레드 풀에 보관하고 관리**한다. 스레드가 필요하면 이미 생성되어있는 스레드를 스레드 풀에서 꺼내 사용한다. 사용을 종료하면 스레드 풀에 해당 스레드를 반납한다.  
	-   [쓰레드풀 코드 정리 링크](https://tecoble.techcourse.co.kr/post/2021-09-18-java-thread-pool/)  
		-   [Java InterruptedException 오류 이유와 처리방법](http://happinessoncode.com/2017/10/09/java-thread-interrupt/)  
-   But, 멀티 스레드에 대한 부분은 WAS가 처리.  

## HTML, HTTP API, CSR, SSR 대해서 알아보자
- [ ]   백엔드 개발자는 3가지 경우로 데이터를 주고받음  
	-   정적 리소스  
		-   **정적 리소스**를 제공할 때는 고정된 HTML, CSS, 이미지, 영상 등을 제공한다.![](https://api.transno.com/v3/document_image/511ab416-6cf7-48ce-a556-15d38951ef4b-10826299.jpg)  
		   브라우저에서 리소스를 요청하면 서버에서 보내준다. 
	-   **HTML 페이지**  
		-   동적으로 필요한 HTML 파일을 생성해서 전달함.  
		-   애플리케이션 로직을 처리하는 WAS가 DB로 주문 정보를 조회한 후 JSP나 타임리프 같은 것을 통해 **동적으로 HTML을 생성**한다. 브라우저는 이 HTML을 해석해서 표현한다.![](https://api.transno.com/v3/document_image/06b48f67-b10e-4fed-a24d-607ed41578cf-10826299.jpg)  
	-   **HTTP API**
		-   HTML을 단순히 전달하는 게 아니라 **데이터를 전달**한다.  
		-   주문 정보를 조회해서 **json 형식**의 데이터를 내려준다. 웹 브라우저는 json을 해석하지 못하기 때문에 json 포맷 그대로 출력한다. 따라서 API 방식은 화면에 뿌려주는 용도가 아니라 다양한 시스템에서 사용할 때 활용된다.![](https://api.transno.com/v3/document_image/9af3de29-52dd-4fcb-b1af-1ad65967bc6f-10826299.jpg)![](https://api.transno.com/v3/document_image/522f62ca-b972-4031-be03-2dec4e15694f-10826299.jpg)  
- [ ]   SSR(서버 사이드 렌더링)이 뭐야?  
	-   HTML 최종 결과를 서버에서 만들어서 웹 브라우저에 전달하고, 주로 정적인 화면에 사용(앞에서 봤던 형태)  
- [ ]   CSR (클라이언트 사이드 렌더링)이 뭐야??  
	-   HTML 결과를 자바스크립트를 사용해 웹 브라우저에서 동적으로 생성해서 적용![](https://api.transno.com/v3/document_image/1d0e6e13-1043-463b-a32e-f79ce8a3338e-10826299.jpg)  
-   [SSR, CSR 차이?](https://www.youtube.com/watch?v=iZ9csAfU5Os)  

## 자바 백엔드 웹 기술 역사  훓어보기
- [ ]   서블릿  
	-   장점  
		-   HTTP 메시지를 직접 파싱하지 않아도 쉽게 사용가능  
	-   문제점  
		-   HTML을 자바 코드로 작성해야 해서 불편  
		-   비즈니스 로직과 뷰과 한곳에 있어 코드가 복잡함.  
- [ ]   JSP  
	-   장점  
		-   뷰 생성 작업을 JSP가 가져가고 중간에 동적으로 변경이 필요한 부분만 자바 코드를 사용함.  
	-   문제점  
		-   비즈니스 로직과 HTML 뷰 영역이 같이 있다. JSP가 너무 많은 역할을 함  
		-   JSP 같은 뷰 템플릿은 화면을 렌더링하는 데에 최적화되어 있기 때문에 이 업무만 담당하는 것이 효과적이다.  
		-   UI 일부를 수정하는 일과 비즈니스 로직을 수정하는 일은 서로 다르게 발생할 확률이 높고 대부분 서로 영향을 주지 않는다.  
- [ ]   MVC 패턴  
	-   장점  
		-   모델, 뷰 컨트롤러로 역할을 나누어 UI와 비즈니스 로직을 분리함  
	-   mvc 패턴의 한계  
		-   공통 처리가 어렵다는 문제(포워드/ViewPath 중복, 사용하지 않는 코드 있음)  
- [ ]   MVC 프레임워크  
	-   장점  
		-   MVC 패턴 자동화, 복잡한 웹 기술을 편리하게 사용할 수 있는 다양한 기능 지원  
- [ ]   애노테이션 기반 스프링 MVC  
	-   장점  
		-   다양한 기능 지원을 통합하고, 코드를 줄임  
- [ ]   스프링 부트  
	-   장점  
		-   서버를 내장하고 있어, 빌드와 배포 단순화함  
-   [스프링 부트에서 나오는 컨텍스트들 질문](https://www.inflearn.com/questions/448680)