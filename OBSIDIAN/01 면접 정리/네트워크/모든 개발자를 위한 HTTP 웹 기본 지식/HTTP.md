### HTTP정의
- [ ] HTTP란?  
    -   **리소스**들을 가져올 수 있도록 해주는 프로토콜   
- [ ] HTTP 3가지 특징?  
    -   1) 클라이언트 서버 구조 : 클라이언트와 서버로 **분리**  
    -   2) 무상태 프로토콜 : 어떠한 이전 요청과도 무관한 각각의 요청을 **독립적인 트랜잭션**으로 취급하는 통신 프로토콜. 그래서 요청이 증가할 때, **서버 증설 가능**  
    -   3) 비연결성 : 기본이 연결(**3 way handshake**)을 유지하지 않는 모델  

### HTTP 구조를 가지고 있을까?
- [ ] 요청 HTTP 메시지 구조는?  
    -   시작 라인  
    -   헤더라인  
- [ ] 응답 HTTP 메시지 구조는?  
    -   시작 라인  
    -   헤더 라인  
    -   메시지 라인  
- [ ] 시작라인의 용도는?  
    -   사람이 이해할 수 있는 **짧은 상태 코드 설명 글**, http메소드나 HTTP상태  
- [ ] 헤더라인의 용도는?  
    -   HTTP 전송에 필요한 모든 **부가정보**  
    -   ex) host정보, 메시지 바디의 내용(html인지 등), 메시지 바디의 크기, 압축 여부, 캐시 관리 정보  
- [ ] 메시지 바디의 용도는?  
    -   **실제 전송할 데이터**가 있는 곳  

### HTTP 메서드종류와 속성은?
- [ ] API 설계하는 방법  
    -   **리소스**를 식별하고 **계층구조**를 활용하자 + 행위는 **HTTP 메소드**로 해결  
- [ ] HTTP메서드 종류  
    -   **GET** -> 리소스 조회로 사용함. 전달하고 싶은 데이터가 있을때 바디X, 시작라인에 쿼리로 전달함  
    -   **POST** -> 바디를 통해 들어온 데이터를 처리하는 모든 기능을 수행.  
    -   **PUT** -> 리소스를 대체(=완전히 덮어버림)  
    -   **PATCH** -> 리소스 부분 변경  
    -   **DELETE** -> 리소스 삭제  
- [ ] HTTP 메서드의 속성 3가지  
    -   **안전** -> 호출해도 **리소스**가 변하지 않는다.![](https://api.transno.com/v3/document_image/007f10a1-ed59-473a-93c0-96b6dfbee984-10826299.jpg)  
        GET은 단순 조회만 하기 때문에 안전하다. POST, DELETE, PATCH, PUT은 당연히 안전하지 않다.
    -   **멱등** -> **n번 호출**해도 결과가 같다  
    -   **캐시가능** -> 자주 사용하는데이터나 값을 밀 복사해 놓는 **임시 장소가 가능**한가  
        -   향후 재사용을 위해 이에 대한 응답을 저장할 수 있음을 나타낸다.  

### 데이터 전달방식을 살펴보자
- [ ] 데이터 전달 방식은 2가지(요청할때 생각해보자)  
    -   1) **쿼리 파라미터**를 통한 데이터 전송 ex) GET, 주로 정렬 필터(검색어)  
    -   2) **메시지 바디**를 통한 데이터 전송 ex) POST, PUT, PATCH, 회원가입, 상품 주문, 리소스 등록, 리소스 변경  
- [ ] 클라이언트에서 서버로 데이터 전송 4가지 상황  
    -   1) 정적 데이터 조회 ex) 이미지, 정적 텍스트 문서![](https://api.transno.com/v3/document_image/194d2839-ee4a-4955-9162-bde8d98116ad-10826299.jpg)  
    
    -   2) 동적 데이터 조회 ex) 주로 검색, 게시판목록에서 정렬 필터(검색어)![](https://api.transno.com/v3/document_image/bcd78f06-8571-4684-a3e8-ebc593e97427-10826299.jpg)  
    
    -   3) HTML Form을 통한 데이터 전송 ex) 회원 가입, 상품 주문, 데이터 변경![](https://api.transno.com/v3/document_image/50cd282c-97b0-4275-9f56-66540ca9b104-10826299.jpg)![](https://api.transno.com/v3/document_image/3d85481e-b8ba-48a3-831d-df600e2ca023-10826299.jpg)  
        html 즉 웹페이지를 통해서 메시지를 전달하는 것.  
        HOW? HTML Form이라는 걸 알지? Header 정보에 Content-Type: application/x-www-form-urlencoded
    
    -   4) HTTP API를 통한 데이터 전송 ex) 회원 가입, 상품주문, 데이터 변경, 서버to 서버, 앱 클라이언트, 웹 클라이언트(Ajax)![](https://api.transno.com/v3/document_image/26e6bd96-650e-4ed5-927f-3da6678e1ae7-10826299.jpg)  

### HTTP 상태코드는 무엇을 의미할까?
-   **2xx** (Successful): 요청 **정상 처리**  
-   **3xx** (Redirection): 요청을 완료하려면 웹브라우저의 추가 행동이 필요(**리다이렉션**)  
	-   3xx 응답 결과에 Location 헤더가 있으면 그 위치로 자동 이동하는 것을 의미![](https://api.transno.com/v3/document_image/31bc1bef-3d95-43f5-a3e7-9966c2e3726a-10826299.jpg)  
-   **4xx** (Client Error): **클라이언트 오류**, 잘못된 문법등으로 서버가 요청을 수행할 수 없음  
	-   **400 Bad Request**  
		-   클라이언트가 잘못된 요청을 해서 서버가 요청을 처리할 수 없는 상태.요청 파라미터가 잘못되거나 **API 스펙이 맞지 않을 때 발생**한다.  
		- ex) 잘못입력한 url인경우가 대부분!
	-   **404 Not Found**  
		-   요청 **리소스를 찾을 수 없는 상태**. 또는 클라이언트가 권한이 부족한 리소스에 접근하면 그 리소스를 숨기고 싶을 때 사용  
		ex) url확인이나 캐시삭제 해볼것!
-   **5xx** (Server Error): **서버 오류**, 서버가 정상 요청을 처리하지 못함  
- [ ] 리다이랙션 종류  
    - **영구 리다이렉션(301, 308)**  
        -   특정 리소스의 URI가 영구적으로 이동된다. 이전 리소스는 사용하면 안되는 상황일 때 해당된다. 검색 엔진들도 이 변경을 인지해서 새로운 URI를 적용![](https://api.transno.com/v3/document_image/83107a8b-dda7-4b2f-a03a-f000736acbe6-10826299.jpg)  
    
    - **일시 리다이렉션(302, 307, 303)** : PRG  
        -   리소스의 URI가 일시적으로 변경된다. 따라서 검색 엔진 등에서 URL을 변경하면 안된다. ex) 주문 완료 후 주문 내역 화면으로 이동![](https://api.transno.com/v3/document_image/ef4d1a27-3034-474e-bad2-03e701f668e6-10826299.jpg)  
            
    
    - **특수 리다이렉션(304)**  
        -   캐시를 목적으로 사용한다.클라이언트가 캐시가 만료됐는지 서버에 확인하기 위해 캐시 정보를 넘기고, 서버는 사용해도 되면 캐시로 다시 조회하라고 응답을 보낸다.  

## HTTP 부가정보 정리
- [ ]   Content-Type, Content-Encoding, Content-Language, Content-Length 각각 뭐야?  
    -   Content-Type: 표현 데이터의 형식  
    -   Content-Encoding: 표현 데이터의 압축 방식  
    -   Content-Language: 표현 데이터의 자연 언어  
    -   Content-Length: 표현 데이터의 길이  
- [ ]   헤더의 일반정보(Referer, User-Agent, Server, Date)는 각각 뭐야?  
    -   Referer: 이전 웹 페이지 주소로 유입 경로 분석가능  
    -   User-Agent: 유저 에이전트 애플리케이션 정보  
    -   Server: 요청을 처리하는 오리진 서버의 소프트웨어 정보
    -   Date: 메시지가 생성된 날짜  
- [ ]   헤더의 특별한 정보(Host, Location, Retry-After)는 각각 뭐야?  
    -   Host: 요청한 호스트 정보(도메인)  
    -   Location: 페이지 리다이렉션  
    -   Retry-After: 유저 에이전트가 다음 요청을 하기까지 기다려야 하는 시간  
- [ ]   콘텐츠 협상가 뭐야?  
    -   클라이언트가 **선호하는 표현을 서버에 요청**하는 것이다. 서버는 원하는 우선 순위에 최대한 맞춰서 표현 데이터를 만들어주게 된다.  
    
    -   클라이언트가 선호하는 표현 요청 우선순위는 1) 클수록 높은 우선순위 2)구체적인 것이 우선  

### 전송 방식 4가지  
- [ ] 단순 전송  
	-   요청을 하면 미리 컨텐츠의 길이를 알고 지정해서 보내는 방식이다. 
- [ ] 압축 전송  
	-   서버에서 gzip 등으로 압축을 해서 용량을 확 줄인 후 Content-Encoding에 뭘로 압축했는지 정보를 같이 보낸다.  
- [ ] 분할 전송  
	-   한 번에 쭉 보내려면 대기 시간이 필요한데 이렇게 쪼개면 만들어지는 대로 바로바로 응답을 받을 수 있는 장점이 있다. 끝났으면 0\r\n을 보낸다 
- [ ] 범위 전송  
	-   절반 정도 받고 끊겼는데 처음부터 다시 요청하기엔 아까우니 범위를 지정해서 요청하는 방식이다.  

### 쿠키에 대해서
- [ ] 쿠키란?  
    -   쿠키는 웹 쿠키, 브라우저 쿠키로도 불리는데 서버가 사용자의 웹 브라우저에 **전송하는 작은 데이터 조각**(사용자 정보)을 의미한다.  
- [ ] 쿠키의 정보는 어떤게 있을까?  
    -   생명주기(세션 쿠키, 영속쿠키), 도메인, 경로, 보안  
- [ ] 쿠키의 특징(크기, 저장위치)?  
    -   크기는 4KB, 클라이언트에 저장  
- [ ] 쿠키의 문제점과 해결방법은?  
    -   쿠키는 4kB의 작은 용량과 트래픽문제를 가지고 있다. 이를 해결하기 위해 웹 스토리지가 등장하였다.  
- [ ] 쿠키의 기본 동작이 어떻게 돼?  
    -   [[네트워크] HTTP 쿠키와 세션이란 ? :: 인생의 로그캣 (tistory.com)](https://noahlogs.tistory.com/38)  
    -   쿠키 작동방식![](https://api.transno.com/v3/document_image/b783eccc-a3c0-41e1-89ba-ac828c394735-10826299.jpg)  

 ### 캐시에 대해서
- [ ] 캐시란?  
    -   자주 사용하는 데이터나 값을 미리 복사해 놓는 **임시 장소**를 가리킨다.  
- [ ] 캐시 효과?  
    -   캐시 가능 시간동안 비싼 **네트워크 사용량**을 줄일 수 있음  
    -   로딩 **속도**가 빨라짐  
- [ ] 캐시 시간이 초과했을 경우 데이터가 변경될 경우와 안될 경우 상황이면?  
    -   **검증 헤더**가 추가로 필요함. 캐시에 데이터 최종 수정날짜와 같다면, 헤더 데이터 갱신하여 재사용, 다르다면 재전송  
    -   **ETag**를 추가함. 캐시용 데이터에 임의의 고유버전 이름을 달아둔 것. 버전이 달라지면 HASH로 다시 생성  
- [ ] 프록시 캐시란?  
    -   클라이언트가 아주 멀리 있는 서버에 접근한다면 시간이 오래 걸린다. 그래서 중간에 **프록시 캐시 서버**를 둔다. CDN 서비스라고 해서 대표적인 것이 AWS Cloud Front다.  
- [ ] 캐시 무효화란?  
    -   설정과 관계 없이 웹 브라우저가 임의로 캐시를 하는 경우가 있는데 이를 막기 위한 설정이다.  
- [ ] 캐시 무효화 설정 뭐가 있을까?  
    - no - cache : 데이터는 캐시해도 되지만 항상 origin 서버에 검증하고 사용한다.  
    - no-store : 데이터에 민감한 정보가 있으므로 저장하면 안된다.  
    - must - revalidate : 캐시 만료 후 최초로 조회할 때 origin 서버에 검증해야 한다.  
- [ ] 기타  
    -   [[ JSP ] 인코딩(Encoding)을 하는 이유 (tistory.com)](https://lordofkangs.tistory.com/38)