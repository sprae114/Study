ë§í¬ : [[ìŠ¤í”„ë§ mvc 2í¸.pdf]] (page. 295)
í•´ì‹œíƒœí¬ : #ì»¨ë²„í„°

----
## ì»¨ë²„í„° ë°°ê²½ì§€ì‹
#### ğŸ“ŒìŠ¤í”„ë§ ì»¨ë²„í„°ëŠ” ì™œ í•„ìš”í• ê¹Œ?
=> ìë°”ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•´ì£¼ëŠ” valueof... ë“± ì»¨ë²„í„°ê°€ ë§ì€ë° ìŠ¤í”„ë§ ì»¨ë²„í„°ê°€ í•„ìš”í• ê¹Œ ì˜ë¬¸ì´ ë“ ë‹¤. í•˜ì§€ë§Œ, ì´ì „ì— `@RequstParam`, `@ModelAttribute` , `@PathVariable` ê³¼ ê°™ì´ **httpìš”ì²­ì„ ë°›ì„ ë•Œ ìì—°ìŠ¤ëŸ½ê²Œ ì‚¬ìš©**í–ˆë‹¤. ìŠ¤í”„ë§ ì»¨ë²„í„°ë¡œ ì¸í•´ ì½”ë“œì˜ ë³µì¡ì„±ì´ ì¤„ì–´ë“œëŠ” íš¨ê³¼ë¥¼ ë³´ì•˜ë‹¤.


#### ğŸ“Œ(ì½”ë“œ) ìŠ¤í”„ë§ íƒ€ì… ì»¨ë²„í„° ì˜ˆì‹œ
- HTTP ìš”ì²­
```java
@GetMapping("/hello-v1")
public String helloV1(HttpServletRequest request){
    String data = request.getParameter("data"); // ë¬¸ì íƒ€ì… ì¡°íšŒ
    Integer intValue = Integer.valueOf(data);  //ìˆ«ì íƒ€ì…ìœ¼ë¡œ ë³€ê²½
    System.out.println("intValue = " + intValue);
    return  "OK";
}
```
=> HTTP ìš”ì²­ íŒŒë¼ë¯¸í„°ëŠ” **ëª¨ë‘ ë¬¸ìë¡œ ì²˜ë¦¬**ëœë‹¤.

- ìŠ¤í”„ë§ ì œê³µ `@RequstParam`, `@ModelAttribute` , `@PathVariable`
```java
@GetMapping("/hello-v2")  
public String helloV2(@RequestParam Integer data) {  
    System.out.println("data = " + data);  
    return "ok";  
}

@PathVariable("data") Integer data

@ModelAttribute UserData data
class UserData { 
	Integer data;
}
```
=> ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” `@RequstParam`, `@ModelAttribute` , `@PathVariable` ëŠ” **ìŠ¤í”„ë§ì´ ì¤‘ê°„ì— íƒ€ì… ë³€í™˜**ì„ í•´ì¤Œ.


#### ğŸ“Œ(ì½”ë“œ) ìˆœìˆ˜ ìë°”ì½”ë“œë¡œ íƒ€ì… ë³€í™˜ì„ í•˜ê³  ì‹¶ë‹¤ë©´? (ì´í•´ë§Œ)
â–¶í´ë˜ìŠ¤
```java
@Getter
@EqualsAndHashCode
public class IpPort {
    private String ip;
    private int port;
 
    public IpPort(String ip, int port) {
        this.ip = ip;
        this.port = port;
    }
}
```

â–¶ì»¨ë²„í„°
- String -> IpPort
```java
@Slf4j
public class StringToIpPortConverter implements Converter<String, IpPort> {

    @Override
    public IpPort convert(String source) {
        log.info("Convert Source = {}", source);
        String[] split = source.split(":");
        String ip = split[0];
        int port = Integer.parseInt(split[1]);
        return new IpPort(ip, port);
    }
}
```

- IpPort -> String 
```java
@Slf4j
public class IpPortToStringConverter implements Converter<IpPort, String> {

    @Override
    public String convert(IpPort source) {
        log.info("Convert Source = {}", source);
        return source.getIp() + ":" + source.getPort();
    }
}
```

â–¶í…ŒìŠ¤íŠ¸
```java
public class converterTest {
    @Test
    void stringToIpPort() {
        StringToIpPortConverter converter = new StringToIpPortConverter();
        String source = "127.0.0.1:8080";
        IpPort result = converter.convert(source);
        assertThat(result).isEqualTo(new IpPort("127.0.0.1", 8080));
    }

    @Test
    void ipPortToString() {
        IpPortToStringConverter converter = new IpPortToStringConverter();
        IpPort source = new IpPort("127.0.0.1", 8080);
        String result = converter.convert(source);
        assertThat(result).isEqualTo("127.0.0.1:8080");
    }
}
```
=> ê°œë°œìê°€ ì§ì ‘ ì»¨ë²„íŒ… í•˜ëŠ” ê²ƒê³¼ í° ì°¨ì´ê°€ ì—†ë‹¤. íƒ€ì… ì»¨ë²„í„°ë¥¼ ë“±ë¡í•˜ê³  ê´€ë¦¬í•˜ë©´ì„œ í¸ë¦¬í•˜ê²Œ ë³€í™˜ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ì—­í• ì„ í•˜ëŠ” ë¬´ì–¸ê°€ê°€ í•„ìš”í•¨.


#### ğŸ“ŒConversionServiceë€?
=> **ìŠ¤í”„ë§ì€ ê°œë³„ ì»¨ë²„í„°**ë¥¼ ëª¨ì•„ë‘ê³  ê·¸ê²ƒë“¤ì„ ë¬¶ì–´ì„œ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•¨.

â–¶ íš¨ê³¼ëŠ”?
- **ë“±ë¡ê³¼ ì‚¬ìš©ì˜ ë¶„ë¦¬** : ì»¨ë²„í„°ë¥¼Â ë“±ë¡í•  ë•ŒëŠ” StringToIntegerConverter ê°™ì€ íƒ€ì… ì»¨ë²„í„°ë¥¼ ëª…í™•í•˜ê²Œ ì•Œì•„ì•¼ í•˜ì§€ë§Œ, ë°˜ë©´Â ì»¨ë²„í„°ë¥¼Â ì‚¬ìš©í•˜ëŠ” ì…ì¥ì—ì„œëŠ” íƒ€ì… ì»¨ë²„í„°ë¥¼ ì „í˜€ ëª°ë¼ë„ ëœë‹¤. ì‚¬ìš©ìëŠ” ì»¨ë²„ì „ ì„œë¹„ìŠ¤ì˜ ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´í•˜ë©´ì„œ ì‚¬ìš©ë§Œ í•˜ë©´ ëœë‹¤.
- **ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™** : í„°í˜ì´ìŠ¤ë¥¼ ë¶„ë¦¬í•˜ë©´Â ì»¨ë²„í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ì™€Â ì»¨ë²„í„°ë¥¼ ë“±ë¡í•˜ê³  ê´€ë¦¬í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ê´€ì‹¬ì‚¬ë¥¼ ëª…í™•í•˜ê²Œ ë¶„ë¦¬í•  ìˆ˜ ìˆìŒ.
![[Pasted image 20230126150222.png]]


#### ğŸ“Œ(ì½”ë“œ) ConversionService í…ŒìŠ¤íŠ¸
â–¶ì»¨ë²„í„°
=> ì´ì „ì— ë§Œë“¤ì—ˆë˜ ì»¨ë²„í„° ëª¨ë‘ ì‚¬ìš©í•¨.

â–¶í…ŒìŠ¤íŠ¸
=>ìˆœìˆ˜ ìë°”ì—ì„œëŠ”  `conversionService`ì— ë“±ë¡í•´ì„œ ì»¨ë²„í„°ë¥¼ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•˜ì.
```java
public class ConversionServiceTest {

    @Test
    void conversionService(){
        // ë“±ë¡
        DefaultConversionService conversionService = new DefaultConversionService();
        conversionService.addConverter(new StringToIntegerConverter());
        conversionService.addConverter(new IntegerToStringConverter());
        conversionService.addConverter(new StringToIpPortConverter());
        conversionService.addConverter(new IpPortToStringConverter());
        
        // ì‚¬ìš©
        assertThat(conversionService.convert("10", Integer.class)).isEqualTo(10);
        assertThat(conversionService.convert(10, String.class)).isEqualTo("10");
        
        IpPort ipPort = conversionService.convert("127.0.0.1:8080", IpPort.class);
        assertThat(ipPort).isEqualTo(new IpPort("127.0.0.1", 8080));

        String ipPortString = conversionService.convert(new IpPort("127.0.0.1", 8080), String.class);
        assertThat(ipPortString).isEqualTo("127.0.0.1:8080");
    }
}
```


## í¬ë§·í„° ë°°ê²½ì§€ì‹

#### ğŸ“Œí¬ë§·í„°ë€?
=> ê°ì²´ë¥¼ **íŠ¹ì •í•œÂ í¬ë©§ì— ë§ì¶”ì–´ ë¬¸ìë¡œ ì¶œë ¥**í•˜ê±°ë‚˜ ë˜ëŠ” **ê·¸ ë°˜ëŒ€ì˜ ì—­í• **ì„ í•˜ëŠ” ê²ƒì— íŠ¹í™”ëœ ê¸°ëŠ¥ì´ë‹¤. ì˜ˆë¥¼ë“¤ì–´, í™”ë©´ì— ìˆ«ìë¥¼ ì¶œë ¥í•´ì•¼ í•˜ëŠ”ë°, Integer => String ì¶œë ¥ ì‹œì ì— ìˆ«ì 1000 ë¬¸ì "1,000" ì´ë ‡ê²Œ 1000 ë‹¨ìœ„ì— ì‰¼í‘œë¥¼ ë„£ì–´ì„œ ì¶œë ¥í•˜ê±°ë‚˜, ë˜ëŠ” "1,000" ë¼ëŠ” ë¬¸ìë¥¼ 1000 ì´ë¼ëŠ” ìˆ«ìë¡œ ë³€ê²½í•´ì•¼í•˜ëŠ” ê²½ìš°.

â–¶í¬ë§·í„° ì¸í„°í˜ì´ìŠ¤
```csharp
public interface Printer<T> {
    String print(T object, Locale locale);
}

public interface Parser<T> {
    T parse(String text, Locale locale) throws ParseException;
}

public interface Formatter<T> extends Printer<T>, Parser<T> {}
```
- String print(T object, Locale locale) : ê°ì²´ë¥¼ ë¬¸ìë¡œ ë³€ê²½í•œë‹¤.
- T parse(String text, Locale locale) : ë¬¸ìë¥¼ ê°ì²´ë¡œ ë³€ê²½í•œë‹¤.


#### ğŸ“Œ(ì½”ë“œ) í¬ë§·í„° í…ŒìŠ¤íŠ¸
â–¶í¬ë§¤í„° í´ë˜ìŠ¤
```JAVA
@Slf4j
public class MyNumberFormatter implements Formatter<Number> {

    @Override
    public Number parse(String text, Locale locale) throws ParseException {
        log.info("text={}, locale={}", text, locale);
        // "1,000" -> 1000
        NumberFormat format = NumberFormat.getInstance(locale);
        return format.parse(text);
    }

    @Override
    public String print(Number object, Locale locale) {
        log.info("object={}, locale={}", object, locale);
        NumberFormat instance = NumberFormat.getInstance(locale);
        return instance.format(object);
    }
}
```

â–¶í…ŒìŠ¤íŠ¸
```java
class MyNumberFormatterTest {

    MyNumberFormatter formatter = new MyNumberFormatter();

    @Test
    void parse() throws ParseException {
        Number result = formatter.parse("1,000", Locale.KOREA);
        assertThat(result).isEqualTo(1000L); //Long íƒ€ì… ì£¼ì˜
    }
    @Test
    void print() {
        String result = formatter.print(1000, Locale.KOREA);
        assertThat(result).isEqualTo("1,000");
    }
}
```

â–¶ê²°ê³¼
![[Pasted image 20230126210515.png]]

#### ğŸ“Œí¬ë§·í„°ë¥¼ ì§€ì›í•˜ëŠ” ì»¨ë²„ì „ ì„œë¹„ìŠ¤
ì»¨ë²„ì „ ì„œë¹„ìŠ¤ì—ëŠ” ì»¨ë²„í„°ë§Œ ë“±ë¡í•  ìˆ˜ ìˆê³ , í¬ë§·í„°ë¥¼ ë“±ë¡í•  ìˆ˜ ëŠ” ì—†ë‹¤. í•˜ì§€ë§Œ, í¬ë§·í„°ë¥¼ ì§€ì›í•˜ëŠ” ì»¨ë²„ì „ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ì»¨ë²„ì „ ì„œë¹„ìŠ¤ì— í¬ë§·í„°ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.


- DefaultFormattingConversionService
![[Pasted image 20230126213216.png]]
=> ConversionService ê´€ë ¨ ê¸°ëŠ¥ì„ ìƒì†ë°›ê¸° ë•Œë¬¸ì— ê²°ê³¼ì ìœ¼ë¡œÂ **ì»¨ë²„í„°ë„ í¬ë§·í„°ë„ ëª¨ë‘ ë“±ë¡í•  ìˆ˜ ìˆë‹¤**.

â–¶í…ŒìŠ¤íŠ¸
```csharp
@Test
void formattingConversionService() {
    DefaultFormattingConversionService conversionService = new DefaultFormattingConversionService();

    //ì»¨ë²„í„° ë“±ë¡
    conversionService.addConverter(new StringToIpPortConverter());
    conversionService.addConverter(new IpPortToStringConverter());

    //í¬ë§·í„° ë“±ë¡
    conversionService.addFormatter(new MyNumberFormatter());

    //ì»¨ë²„í„° ì‚¬ìš©
    IpPort ipPort = conversionService.convert("127.0.0.1:8080", IpPort.class);
    assertThat(ipPort).isEqualTo(new IpPort("127.0.0.1", 8080));

    //í¬ë§·í„° ì‚¬ìš©
    assertThat(conversionService.convert(1000, String.class)).isEqualTo("1,000");
    assertThat(conversionService.convert("1,000", Long.class)).isEqualTo(1000L);
}
```


ã…ã…(ì½”ë“œ) ì›¹ì— í¬ë§·í„° ì ìš©í•˜ê¸°
â–¶WebConfig
```java
@Configuration
public class WebConfig implements WebMvcConfigurer {

    @Override
    public void addFormatters(FormatterRegistry registry) {
        // ìš°ì„ ìˆœìœ„ ë•Œë¬¸ì— ì£¼ì„ì²˜ë¦¬
//        registry.addConverter(new StringToIntegerConverter());
//        registry.addConverter(new IntegerToStringConverter());
        registry.addConverter(new StringToIpPortConverter());
        registry.addConverter(new IpPortToStringConverter());

        // í¬ë§·í„° ì¶”ê°€
        registry.addFormatter(new MyNumberFormatter());
    }
}
```
=> ì»¨ë²„í„°ì˜ ìš°ì„ ìˆœìœ„ê°€ í¬ë§·í„°ë³´ë‹¤ ë” ë†’ë‹¤. ë”°ë¼ì„œ ê¸°ì¡´ì˜ ì»¨ë²„í„° 2ê°œë¥¼ ì£¼ì„ì²˜ë¦¬ í•´ì£¼ì—ˆë‹¤.

â–¶ConverterController
=> ê¸°ì¡´ì— ì‚¬ìš©í–ˆë˜ ì»¨íŠ¸ë¡¤ëŸ¬ì´ìš©í•¨.
```java
@GetMapping("/converter-view")  
public String converterView(Model model) {  
    model.addAttribute("number", 10000);  
    model.addAttribute("ipPort", new IpPort("127.0.0.1", 8080));  
    return "converter-view";  
}
```

â–¶ ê²°ê³¼
![[Pasted image 20230126221827.png]]

## ì‚¬ìš©í•  ì»¨ë²„í„° ì§€ì‹
#### âœ”(ì½”ë“œ) ì›¹ì— Converter ì ìš©í•˜ê¸°
â–¶ WebConfig
=> ì›¹ í™˜ê²½ì—ì„œëŠ” WebConfigì— ì»¨ë²„í„° ë“±ë¡í•´ ì‚¬ìš©í•˜ì
```java
@Configuration
public class WebConfig implements WebMvcConfigurer {

    @Override
    public void addFormatters(FormatterRegistry registry) {
        //ìŠ¤í”„ë§ì´ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” ì»¨ë²„í„°
//        registry.addConverter(new StringToIntegerConverter());  
//        registry.addConverter(new IntegerToStringConverter());
        registry.addConverter(new StringToIpPortConverter());
        registry.addConverter(new IpPortToStringConverter());
    }
}
```

â–¶ì»¨íŠ¸ë¡¤ëŸ¬
=> ë§Œë“  IpPort classë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨ë²„íŒ…
```java
@GetMapping("/ip-port")
public String ipPort(@RequestParam IpPort ipPort) {
    System.out.println("ipPort IP = " + ipPort.getIp());
    System.out.println("ipPort PORT = " + ipPort.getPort());
    return "ok";
}
```
=> `@RequestParam` : `ArgumentResolver` ì¸ R`equestParamMethodArgumentResolver` ì—ì„œ `ConversionService` ë¥¼ ì‚¬ìš©í•´ì„œ íƒ€ì…ì„ ë³€í™˜í•œë‹¤

â–¶ê²°ê³¼
```
ipPort IP = 127.0.0.1
ipPort PORT = 8080
```


#### âœ”(ì½”ë“œ) ë·° í…œí”Œë¦¿ì— ì»¨ë²„í„° ì ìš©í•˜ê¸°
=>ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ viewë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í• ë•Œ, **ê°ì²´ë¥¼ ë¬¸ìë¡œ ë³€í™˜í•˜ì—¬ í™”ë©´ì— ë Œë”ë§**í•´ì•¼í•¨.

â–¶ì»¨íŠ¸ë¡¤ëŸ¬
```java
@GetMapping("/converter-view")
public String converterView(Model model) {
    model.addAttribute("number", 10000);
    model.addAttribute("ipPort", new IpPort("127.0.0.1", 8080));
    return "converter-view";
}
```

â–¶ë·°
```xml
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<ul>
    <li>${number}: <span th:text="${number}" ></span></li>
    <li>${{number}}: <span th:text="${{number}}" ></span></li>
    <li>${ipPort}: <span th:text="${ipPort}" ></span></li>
    <li>${{ipPort}}: <span th:text="${{ipPort}}" ></span></li>
</ul>

</body>
</html>
```
- ë³€ìˆ˜ í‘œí˜„ì‹ : `${...}`, ì»¨ë²„ì „ ì„œë¹„ìŠ¤ ì ìš© : `${{...}}`

â–¶ê²°ê³¼
![[Pasted image 20230126154437.png]]
- `${number}` :  String "10000"ì´ ì¶œë ¥.
- `${{number}}` : IntegerToStringConverterë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ«ì 10000ì„ ì¶œë ¥.
- `${ipPort}` : ê°ì²´ ê·¸ëŒ€ë¡œë¥¼ ì¶œë ¥.
- `${{ipPort}}` : IpPortToStringConverterë¥¼ ì‚¬ìš©í•´ ê°ì²´ë¥¼ Stringìœ¼ë¡œ íƒ€ì… ì»¨ë²„íŒ… í•˜ì—¬ ì¶œë ¥.


#### âœ”(ì½”ë“œ) ì»¨ë²„í„°ë¥¼ í¼ì— ì ìš©í•˜ê¸°
=> **ì…ë ¥í–ˆì„ ë•Œ**ë„, ì»¨ë²„í„°ê°€ ì ìš©ë˜ê²Œ í•´ë³´ì

â–¶ì»¨íŠ¸ë¡¤ëŸ¬
```java
@Controller  
public class ConverterController {  
  
	...
	
    @GetMapping("/converter/edit")  
    public String converterForm(Model model) {  
        IpPort ipPort = new IpPort("127.0.0.1", 8080);  
        Form form = new Form(ipPort);  
        model.addAttribute("form", form);  
        return "converter-form";  
    }  
  
    @PostMapping("/converter/edit")  
    public String converterEdit(@ModelAttribute Form form, Model model) {  
        IpPort ipPort = form.getIpPort();  
        model.addAttribute("ipPort", ipPort);  
        return "converter-view";  
    }  
  
    @Data  
    static class Form {  
        private IpPort ipPort;  
  
        public Form(IpPort ipPort) {  
            this.ipPort = ipPort;  
        }  
    }  
}
```
- `GET /converter/edit` : IpPort ë¥¼ ë·° í…œí”Œë¦¿ í¼ì— ì¶œë ¥í•œë‹¤. **`th:field`** ê°€ ìë™ìœ¼ë¡œ ì»¨ë²„ì „ ì„œë¹„ìŠ¤ë¥¼ ì ìš©, **`th:value`** ëŠ” ê·¸ëŒ€ë¡œ ì¶œë ¥.
- `POST /converter/edit` : ë·° í…œí”Œë¦¿ í¼ì˜ IpPort ì •ë³´ë¥¼ ë°›ì•„ì„œ(`@ModelAttribute` ë¥¼ ì‚¬ìš©) ì¶œë ¥í•œë‹¤.

â–¶ë·°
```HTML
<body>  
  
<form th:object="${form}" th:method="post">  
    th:field <input type="text" th:field="*{ipPort}"><br/>  
    th:value <input type="text" th:value="*{ipPort}">(ë³´ì—¬ì£¼ê¸° ìš©ë„)<br/>  
    <input type="submit"/>  
</form>  
  
</body>
```

â–¶ê²°ê³¼
![[Pasted image 20230126160439.png]]
![[Pasted image 20230126160808.png]]

## ì‚¬ìš©í•  í¬ë©§í„° ì§€ì‹

#### âœ”ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ê¸°ë³¸ í¬ë§·í„°
=> í¬ë§·í„°ëŠ” ê¸°ë³¸ í˜•ì‹ì´ ì§€ì •ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, ê°ì²´ì˜ ê° í•„ë“œë§ˆë‹¤ ë‹¤ë¥¸ í˜•ì‹ìœ¼ë¡œ í¬ë§·ì„ ì§€ì •í•˜ê¸°ëŠ” ì–´ë ¤ì›€. ìŠ¤í”„ë§ì€ ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ìœ¼ë¡œ ì›í•˜ëŠ” í˜•ì‹ì„ ì§€ì •í•´ì„œ ì‚¬ìš©**í•  ìˆ˜ ìˆëŠ” ë§¤ìš° ìœ ìš©í•œ í¬ë§·í„°ë¥¼ ì œê³µí•¨.

- `@NumberFormat` : ìˆ«ì ê´€ë ¨ í˜•ì‹ ì§€ì • í¬ë§·í„° ì‚¬ìš©, `NumberFormatAnnotationFormatterFactory`
- `@DateTimeFormat` : ë‚ ì§œ ê´€ë ¨ í˜•ì‹ ì§€ì • í¬ë§·í„° ì‚¬ìš©, `Jsr310DateTimeFormatAnnotationFormatterFactory`


#### âœ”(ì½”ë“œ) ìŠ¤í”„ë§ ê¸°ë³¸ í¬ë§·í„° ì‚¬ìš©
â–¶ì»¨íŠ¸ë¡¤ëŸ¬ ë° í´ë˜ìŠ¤
```java
@Controller
public class FormatterController {

    @GetMapping("/formatter/edit")
    public String formatterForm(Model model){
        Form form = new Form();
        form.setNumber(10000);
        form.setLocalDateTime(LocalDateTime.now());
        model.addAttribute("form", form);
        return "formatter-form";
    }

    @PostMapping("/formatter/edit")
    public String formatterEdit(@ModelAttribute Form form) {
        return "formatter-view";
    }

    @Data
    static class Form{

        @NumberFormat(pattern = "###,###")
        private Integer number;

        @DateTimeFormat(pattern = "yyyy-MM-dd HH:mm:ss") //ì›”ë³„ì€ MM
        private LocalDateTime localDateTime;
    }
}
```

â–¶ë·°
- ì…ë ¥í¼
```html
<form th:object="${form}" th:method="post">  
    number <input type="text" th:field="*{number}"><br/>  
    localDateTime <input type="text" th:field="*{localDateTime}"><br/>  
    <input type="submit"/>  
</form>
```
![[Pasted image 20230127005101.png]]

- ì¶œë ¥í¼
```html
<ul>  
    <li>${form.number}: <span th:text="${form.number}" ></span></li>  
    <li>${{form.number}}: <span th:text="${{form.number}}" ></span></li>  
    <li>${form.localDateTime}: <span th:text="${form.localDateTime}" ></span></li>  
    <li>${{form.localDateTime}}: <span th:text="${{form.localDateTime}}" ></span></li>  
</ul>
```
![[Pasted image 20230127005120.png]]


